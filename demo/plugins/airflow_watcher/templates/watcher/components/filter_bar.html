<!-- Filter Bar Component -->
<div class="watcher-filter-bar" style="
    background: white;
    padding: 15px 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    display: flex;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap;
">
    <span style="font-weight: 500; color: #666;">ğŸ” Filters:</span>
    
    <form method="get" action="" style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
        <!-- Tag Filter -->
        <div style="display: flex; align-items: center; gap: 5px;">
            <label for="tag" style="color: #666; font-size: 0.9em;">Tag:</label>
            <select name="tag" id="tag" style="
                padding: 6px 12px;
                border: 1px solid #ddd;
                border-radius: 4px;
                background: white;
                min-width: 150px;
            ">
                <option value="">All Tags</option>
                {% for t in available_tags %}
                <option value="{{ t }}" {% if filters.tag == t %}selected{% endif %}>{{ t }}</option>
                {% endfor %}
            </select>
        </div>
        
        <!-- Owner Filter -->
        <div style="display: flex; align-items: center; gap: 5px;">
            <label for="owner" style="color: #666; font-size: 0.9em;">Owner:</label>
            <select name="owner" id="owner" style="
                padding: 6px 12px;
                border: 1px solid #ddd;
                border-radius: 4px;
                background: white;
                min-width: 150px;
            ">
                <option value="">All Owners</option>
                {% for o in available_owners %}
                <option value="{{ o }}" {% if filters.owner == o %}selected{% endif %}>{{ o }}</option>
                {% endfor %}
            </select>
        </div>
        
        <!-- Hours Filter (for pages that use it) -->
        {% if show_hours_filter %}
        <div style="display: flex; align-items: center; gap: 5px;">
            <label for="hours" style="color: #666; font-size: 0.9em;">Lookback:</label>
            <select name="hours" id="hours" style="
                padding: 6px 12px;
                border: 1px solid #ddd;
                border-radius: 4px;
                background: white;
            ">
                <option value="6" {% if filters.hours == 6 %}selected{% endif %}>6 hours</option>
                <option value="12" {% if filters.hours == 12 %}selected{% endif %}>12 hours</option>
                <option value="24" {% if filters.hours == 24 %}selected{% endif %}>24 hours</option>
                <option value="48" {% if filters.hours == 48 %}selected{% endif %}>48 hours</option>
                <option value="168" {% if filters.hours == 168 %}selected{% endif %}>7 days</option>
            </select>
        </div>
        {% endif %}
        
        <!-- Apply Button -->
        <button type="submit" style="
            padding: 6px 16px;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
        ">Apply</button>
        
        <!-- Clear Button -->
        {% if filters.tag or filters.owner %}
        <a href="{{ request.path }}" style="
            padding: 6px 16px;
            background: #f5f5f5;
            color: #666;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
        ">Clear</a>
        {% endif %}
    </form>
    
    <!-- Active Filters Badge -->
    {% if filters.tag or filters.owner %}
    <div style="margin-left: auto; display: flex; gap: 8px;">
        {% if filters.tag %}
        <span style="
            background: #e3f2fd;
            color: #1565c0;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
        ">ğŸ·ï¸ {{ filters.tag }}</span>
        {% endif %}
        {% if filters.owner %}
        <span style="
            background: #f3e5f5;
            color: #7b1fa2;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
        ">ğŸ‘¤ {{ filters.owner }}</span>
        {% endif %}
    </div>
    {% endif %}
</div>
